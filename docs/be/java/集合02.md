# Arraylist 与 LinkedList

## 1. Array

Array（数组）是基于索引（index）的数据结构，使用索引进行数据的搜索和读取速度很快，复杂度为O(1).

删除数据的开销很大，因为要重排数组中的所有数据。

数组初始化必须指定初始化的长度，否则会报错。

## 2. List

List是一个有序的集合，可以包含重复的元素，提供了索引，[继承Collection](集合01.html)。

List是一个接口，不可以实例化，有两个重要的实现类：ArrayList与LinkedList。

## 3. ArrayList

ArrayList：可以看作是一个能够自动增长容量的数组，底层通过Array数组实现。

数组扩容实现：

1. 新增数据空间判断：判断当前是否有空闲空间
2. 扩容需要申请新的连续空间
3. 把旧数组复制到新空间
4. 添加新增数据
5. 回收旧数组所在空间

在初始化时指定长度性能会更好，这样不会重复的申请空间、复制数组、销毁空间。

## 4. LinkedList

LinkedList底层通过双向链表实现，在添加和删除数据时性能更好，不需要连续空间。

## 5. Arraylist 与 LinkedList对比

* 时间复杂度

  | 操作    |  数组 | 链表 |
  | ------- | ---- | --- |
  | 随机访问 | O(1) | O(n) |
  | 头部插入 | O(n) | O(1) |
  | 头部删除 | O(n) | O(1) |
  | 尾部插入 | O(1) | O(1) |
  | 尾部删除 | O(1) | O(1) |
  
* 查找的复杂度都为O(n)，但是数组比链表更快，因为数组的连续内存，会有一部分或者全部数据一起进入到CPU缓存，而链表还需要在去内存中根据上下游标查找，CPU缓存比内存块太多。

* 数组大小固定，不适合动态存储、添加；内存地址连续，可随机访问、查询速度快。

* 链表大小可变，可扩展性强；查询只能顺着指针方向，速度较慢。

* 线程安全：Arraylist 与 LinkedList 都是不同步的，也就是不保证线程安全。

* 底层数据结构：Arraylist 底层使用的是Object数组；LinkedList 底层使用的是双向链表。

参考：[ArrayList和linkedList的区别](https://www.cnblogs.com/lingshang/p/10897912.html)