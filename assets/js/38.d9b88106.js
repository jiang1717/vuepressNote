(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{433:function(r,t,i){"use strict";i.r(t);var a=i(25),n=Object(a.a)({},(function(){var r=this,t=r.$createElement,i=r._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[i("h1",{attrs:{id:"string、stringbuffer与stringbuilder"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#string、stringbuffer与stringbuilder"}},[r._v("#")]),r._v(" String、StringBuffer与StringBuilder")]),r._v(" "),i("h2",{attrs:{id:"_1-介绍"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍"}},[r._v("#")]),r._v(" 1. 介绍")]),r._v(" "),i("ol",[i("li",[i("p",[r._v("java.lang.String 字符串常量（线程安全）")]),r._v(" "),i("p",[r._v("String 类中使用final关键字字符数组保存字符串，"),i("code",[r._v("private final char value[]")]),r._v("，所以String对象是不可变的。")])]),r._v(" "),i("li",[i("p",[r._v("java.lang.StringBuffer 字符串变量（线程安全）")])]),r._v(" "),i("li",[i("p",[r._v("java.lang.StrungBuilder 字符串变量（非线程安全）")]),r._v(" "),i("p",[r._v("StringBuffer和StringBuilder都是继承自AbstractStringBuilder类，在AbstractStringBuilder类中则是使用没有final关键字修饰的字符数组保存字符串，因此这两个对象是可变的。")])])]),r._v(" "),i("h2",{attrs:{id:"_2-运行速度"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行速度"}},[r._v("#")]),r._v(" 2. 运行速度")]),r._v(" "),i("p",[i("strong",[r._v("StringBuilder > StringBuffer > String")])]),r._v(" "),i("p",[r._v("因为String为字符串常量，所以String对象一旦创建是不可更改的，如果使用"),i("code",[r._v('str = str + "lala"')]),r._v("对字符串进行修改，在JVM中实际上是新建了对象并且将str指针指向新对象，原来的str会被JVM的垃圾回收机制（GC）回收掉。所以执行速度很慢并且浪费内存空间。")]),r._v(" "),i("p",[r._v("StringBuffer 对象修改时会对对象本身进行操作，而不是生成新的对象，速度更快。")]),r._v(" "),i("p",[r._v("StringBuilder 修改方法相同，相比StringBuffer会获得10%-15%的性能提升，代价是多线程不安全")]),r._v(" "),i("h2",{attrs:{id:"_3-线程安全"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-线程安全"}},[r._v("#")]),r._v(" 3. 线程安全")]),r._v(" "),i("p",[r._v("String 中的对象是不可变的，也就可以理解为常量，线程安全。")]),r._v(" "),i("p",[r._v("AbstractStringBuilder 是 StringBuilder 与 StringBuffer 的公共父类，定义了一些字符串的基本操作，如 expandCapacity、append、insert、indexOf 等公共方法。")]),r._v(" "),i("p",[r._v("StringBuffer 对方法加了同步锁或者对调用的方法加了同步锁，所以是线程安全的。")]),r._v(" "),i("p",[r._v("StringBuilder 并没有对方法进行加同步锁，所以是非线程安全的。")]),r._v(" "),i("h2",{attrs:{id:"_4-小结"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-小结"}},[r._v("#")]),r._v(" 4. 小结")]),r._v(" "),i("p",[r._v("String：适用于少量的字符串操作的情况")]),r._v(" "),i("p",[r._v("StringBuilder：适用于单线程下在字符缓冲区进行大量操作的情况")]),r._v(" "),i("p",[r._v("StringBuffer：适用多线程下在字符缓冲区进行大量操作的情况")])])}),[],!1,null,null,null);t.default=n.exports}}]);